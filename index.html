<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lightning Leads</title>
     <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
           background: linear-gradient(120deg, #2b2b2b, #1a1a1a);
            color: #ddd;
             transition: background-color 0.3s, color 0.3s;
            overflow-x: hidden;
        }

        body.light {
            background: linear-gradient(120deg, #84fab0, #8fd3f4);
            color: #333;
        }

         header {
           background: linear-gradient(90deg, #0066cc, #004999);
           color: white;
            padding: 1.5rem;
             text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
           animation: slideIn 1s ease-out;
             display: flex;
            align-items: center;
           justify-content: center;
           flex-direction: column;
        }
         header img {
             height: 50px;
             margin-bottom: 0.8rem;
            filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.2));
        }
        header h1 {
           display: inline-block;
            margin-bottom: 0.2rem;
             font-size: 2.5rem;
       }
        header h1 span:nth-child(1) { color: #4285F4; }
        header h1 span:nth-child(2) { color: #EA4335; }
         header h1 span:nth-child(3) { color: #FBBC05; }
         header h1 span:nth-child(4) { color: #4285F4; }
          header h1 span:nth-child(5) { color: #34A853; }
           header h1 span:nth-child(6) { color: #EA4335; }
         header h1 span:nth-child(7) { color: #4285F4; }
         header h1 span:nth-child(8) { color: #FBBC05; }
         header h1 span:nth-child(9) { color: #34A853; }
          header h1 span:nth-child(10) { color: #4285F4; }
          header h1 span:nth-child(11) { color: #EA4335; }
        header h1 span {
            display: inline-block;
        }
         header p {
             font-size: 1.2rem;
         }
        main {
            padding: 2rem;
            text-align: center;
           min-height: calc(100vh - 150px);
        }
       .search-container {
           max-width: 600px;
            margin: 2rem auto;
            padding: 1.5rem;
           background: rgba(255, 255, 255, 0.05);
           border-radius: 15px;
             box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
          animation: fadeIn 1.5s ease-in-out;
            position: relative;
           transition: background 0.3s ease;
        }
        body.light .search-container {
            background: rgba(255, 255, 255, 0.9);
             color: #333;
        }
       footer {
           background-color: rgba(255, 255, 255, 0.05);
           color: #ddd;
            text-align: center;
             padding: 0.8rem;
            position: relative;
           width: 100%;
             box-shadow: 0 -4px 8px rgba(0, 0, 0, 0.2);
           margin-top: auto;
           transition: background-color 0.3s, color 0.3s;
           font-size: 0.9rem;
        }
        body.light footer {
           background-color: rgba(255, 255, 255, 0.9);
             color: #333;
       }
       button {
             background-color: #0066cc;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
             cursor: pointer;
           font-size: 1rem;
            transition: background-color 0.3s ease;
        }
        button:hover {
          background-color: #004999;
        }
         .toggle-button {
           position: fixed;
           top: 1rem;
           right: 1rem;
           background: rgba(255, 255, 255, 0.2);
            border: none;
             border-radius: 50%;
             cursor: pointer;
             font-size: 1.5rem;
             color: white;
             z-index: 1000;
             width: 3rem;
           height: 3rem;
            display: flex;
           align-items: center;
             justify-content: center;
           transition: background-color 0.3s, color 0.3s, transform 0.3s ease;
           box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
       }
         .toggle-button:hover {
             background: rgba(255, 255, 255, 0.3);
          }
        body.light .toggle-button {
            background: rgba(0, 0, 0, 0.1);
           color: #333;
         }
         body.light .toggle-button:hover {
           background: rgba(0, 0, 0, 0.2);
          }
        @keyframes slideIn {
            from {
              transform: translateY(-100%);
               opacity: 0;
           }
             to {
                 transform: translateY(0);
                 opacity: 1;
           }
        }
         @keyframes fadeIn {
           from {
                opacity: 0;
            }
            to {
                opacity: 1;
           }
        }
         .gcse-search {
            margin-top: 1rem;
         }
         .gcse-search input[type="text"] {
            padding: 0.8rem;
            border: 1px solid #555;
            border-radius: 8px;
             width: 95%;
            background: #444;
            color: #ddd;
             transition: background-color 0.3s, color 0.3s;
             margin-bottom: 0.8rem;
         }
       body.light .gcse-search input[type="text"] {
            background: #f1f1f1;
             border: 1px solid #ddd;
            color: #333;
         }
       /* Chatbox Styles */
        .chatbox-container {
             position: fixed;
           bottom: 20px;
            right: 20px;
             z-index: 1000;
        }
        .chatbox {
            width: 300px;
           background: #222;
           border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
            overflow: hidden;
            display: flex;
           flex-direction: column;
           max-height: 400px;
             transition: transform 0.3s ease, opacity 0.3s ease;
              opacity: 1;
            transform: translateY(0);

        }
         body.light .chatbox {
            background: #fff;
         }
        .chatbox.hidden {
            opacity: 0;
             transform: translateY(20px);
             pointer-events: none;
        }
       .chatbox-header {
           background: linear-gradient(90deg, #0066cc, #004999);
            color: white;
            padding: 0.8rem 1rem;
           font-size: 1.1rem;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
             align-items: center;
           cursor: pointer;
            position:relative;
        }
        .chatbox-header:hover {
             background-color: #004999;
         }
          .chatbox-header #minimize-chatbox {
             background: none;
            border: none;
             color: white;
           cursor: pointer;
           font-size: 1.2rem;
           position: absolute;
            right: 3.3rem;
            top: 50%;
            transform: translateY(-50%);

        }
           .chatbox-header #reset-chatbox {
               background: none;
               border: none;
              color: white;
             cursor: pointer;
             font-size: 1.2rem;
            position: absolute;
           right: 0.5rem;
             top: 50%;
           transform: translateY(-50%);
         }
       .chatbox-body {
             flex: 1;
             padding: 1rem;
            overflow-y: auto;
             display: flex;
           flex-direction: column;
           gap: 0.5rem;

       }
         .chatbox-message {
            padding: 0.7rem;
             border-radius: 10px;
             max-width: 80%;
            white-space: pre-line;
             position: relative;

       }
        .chatbox-message.user {
            background-color: #0066cc;
            color: white;
             align-self: flex-end;
         }
          .chatbox-message.bot {
             background-color: #444;
            color: #ddd;
            align-self: flex-start;
         }

        body.light .chatbox-message.bot {
             background-color: #f1f1f1;
             color: #333;
        }

         .chatbox-message .copy-button {
            position: absolute;
            top: 0.5rem;
           right: 0.5rem;
             background: none;
             border: none;
             font-size: 0.9rem;
           cursor: pointer;
            color: rgba(255, 255, 255, 0.7);
             padding: 0;
           margin: 0;
           transition: color 0.3s;

        }

        .chatbox-message .copy-button:hover {
            color: rgba(255, 255, 255, 1);
         }
        body.light .chatbox-message .copy-button {
             color: #888;
        }
       body.light .chatbox-message .copy-button:hover {
           color: #0066cc;
         }

        .chatbox-message .edit-button {
           position: absolute;
             top: 0.5rem;
            right: 0.5rem;
            background: none;
           border: none;
            font-size: 0.9rem;
             cursor: pointer;
             color: rgba(255, 255, 255, 0.7);
            padding: 0;
            margin: 0;
             transition: color 0.3s;
        }
          .chatbox-message .edit-button:hover {
            color: rgba(255, 255, 255, 1);
           }
        body.light .chatbox-message .edit-button {
             color: #888;
         }
           body.light .chatbox-message .edit-button:hover {
            color: #0066cc;
        }

        .chatbox-input {
            display: flex;
           border-top: 1px solid #555;
         }
          body.light .chatbox-input {
            border-top: 1px solid #ddd;
        }
        .chatbox-input input {
             flex: 1;
             padding: 0.5rem;
            border: none;
             outline: none;
            background: #444;
           color: #ddd;
       }
       body.light .chatbox-input input {
            background: white;
             color: #333;
        }
          .chatbox-input button {
           background-color: #0066cc;
             color: white;
             border: none;
            padding: 0.5rem 1rem;
            cursor: pointer;
         }
         .chatbox-input button:hover {
            background-color: #004999;
         }
         .loading {
            display: flex;
            justify-content: center;
             align-items: center;
            padding: 0.5rem;
         }
         .loading-dot {
             width: 8px;
            height: 8px;
            margin: 0 4px;
             background-color: #0066cc;
           border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out;
       }
         .loading-dot:nth-child(2) {
           animation-delay: 0.2s;
        }
       .loading-dot:nth-child(3) {
          animation-delay: 0.4s;
         }
         @keyframes bounce {
           0%,
             80%,
             100% {
                 transform: translateY(0);
             }
           40% {
                 transform: translateY(-10px);
             }
         }
        .chatbox-powered-by {
          text-align: center;
             padding: 0.5rem;
            font-size: 0.8rem;
          }
         .chatbox-powered-by a {
             color: red;
             text-decoration: none;
            transition: color 0.3s ease;
         }
        body.light .chatbox-powered-by a {
             color: red;
        }
          .chatbox-powered-by a:hover {
              color: #0066cc;
        }
         .chatbox-snippet {
           position: fixed;
            bottom: 20px;
             right: 20px;
            z-index: 1000;
            background-color: #0066cc;
            color: white;
           border-radius: 50%;
            width: 4rem;
             height: 4rem;
             display: flex;
             align-items: center;
           justify-content: center;
            font-size: 2rem;
            cursor: pointer;
           box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease, opacity 0.3s ease;
              opacity: 1;
              transform: translateY(0);
           pointer-events: auto;
         }
           .chatbox-snippet:hover {
              transform: scale(1.05);
          }
        .chatbox-snippet.hidden {
             opacity: 0;
           transform: translateY(20px);
             pointer-events: none;
          }
         /* Notification Styles */
          .copy-notification {
           position: fixed;
             top: 20px;
             left: 50%;
            transform: translateX(-50%);
            background-color: #48bb78;
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 0.375rem;
             box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
             z-index: 1001;
            transition: opacity 0.3s ease, transform 0.3s ease;
           opacity: 0;
            pointer-events: none;
        }
       .copy-notification.show {
           opacity: 1;
            transform: translateX(-50%) translateY(0);
         }

        /* Responsive Design */
         @media (max-width: 768px) {
           header {
               flex-direction: column;
              text-align: center;
                 padding: 1rem;
          }
            header img {
                margin-bottom: 0.8rem;
             }
            .chatbox-container {
                 width: 90%;
                 right: 5%;
               bottom: 5%;
           }
            .chatbox{
               width: 100%;
           }
         }
    </style>
</head>

<body>
    <header>
          <img src="https://i.ibb.co/G54yvHB/Lightning-Leads-logo.png" alt="Lightning Leads Logo">
        <h1>
           <span>L</span><span>i</span><span>g</span><span>h</span><span>t</span><span>n</span><span>i</span><span>n</span><span>g</span>
            <span>L</span><span>e</span><span>a</span><span>d</span><span>s</span>
        </h1>
        <p>Empowering your searches with lightning speed</p>
    </header>

    <button class="toggle-button" id="theme-toggle" aria-label="Toggle theme">
          <i class="fas fa-sun"></i>
     </button>

   <main>
        <div class="search-container">
            <p>Use the search box below to discover amazing results:</p>
            <script async src="https://cse.google.com/cse.js?cx=e514bb2842e7845ae"></script>
          <div class="gcse-search"></div>
           <div id="search-results">
            </div>
         </div>
    </main>

    <footer>
         <p>© 2025 Lightning Leads. All rights reserved. Developed by Flynn James P.</p>
    </footer>

    <!-- Chatbox Widget -->
     <div class="chatbox-container">
         <div class="chatbox hidden" id="chatbox">
           <div class="chatbox-header" id="chatbox-header">
                Codyai - Keywords Assistant
               <button id="minimize-chatbox" style="background:none; border:none; color: white; cursor:pointer; font-size: 1.2rem;">
                 <i class="fas fa-minus"></i>
                </button>
               <button id="reset-chatbox" style="background:none; border:none; color: white; cursor:pointer; font-size: 1.2rem;">
                    <i class="fas fa-sync-alt"></i>
                 </button>
            </div>
           <div class="chatbox-body" id="chatbox-body">
              <div class="chatbox-message bot">
                    Hello! How can I assist you today?
               </div>
          </div>
            <div class="chatbox-input">
                <input type="text" id="chatbox-input" placeholder="Type your message...">
              <button id="chatbox-send">Send</button>
            </div>
           <div class="chatbox-powered-by">
              Powered by <a href="https://app-codyproai.onrender.com" target="_blank">CodyPro AI</a>
            </div>
        </div>
    </div>
      <!-- Minimized Chatbox Snippet -->
       <div class="chatbox-snippet hidden" id="chatbox-snippet">
           <i class="fas fa-comment-dots"></i>
     </div>
    <div class="copy-notification" id="copy-notification">Copied!</div>
    <script>
         const toggleButton = document.getElementById('theme-toggle');
        const body = document.body;
         const chatbox = document.getElementById('chatbox');
       const chatboxBody = document.getElementById('chatbox-body');
       const chatboxInput = document.getElementById('chatbox-input');
        const chatboxSend = document.getElementById('chatbox-send');
        const chatboxHeader = document.getElementById('chatbox-header');
        const minimizeChatbox = document.getElementById('minimize-chatbox');
        const resetChatbox = document.getElementById('reset-chatbox');
        const chatboxSnippet = document.getElementById('chatbox-snippet');
         const apiKey = "AIzaSyBZQNzg1kfWoGA-iwTuYIpo0VmzEnBSv70";
       const copyNotification = document.getElementById('copy-notification');
        // Set dark mode as default
       body.classList.remove('light');
         toggleButton.addEventListener('click', () => {
            body.classList.toggle('light');
           toggleButton.innerHTML = body.classList.contains('light') ? '<i class="fas fa-moon"></i>' : '<i class="fas fa-sun"></i>';
         });
           chatboxHeader.addEventListener('click', () => {
            chatbox.classList.toggle('hidden');
              chatboxSnippet.classList.toggle('hidden');
         });
        minimizeChatbox.addEventListener('click', (e) => {
            e.stopPropagation();
           chatbox.classList.toggle('hidden');
            chatboxSnippet.classList.toggle('hidden');
       });
        chatboxSnippet.addEventListener('click', () => {
              chatbox.classList.toggle('hidden');
              chatboxSnippet.classList.toggle('hidden');
       });
         // Show the chatbox on page load
         chatbox.classList.remove('hidden');
          chatboxSnippet.classList.add('hidden');
        // Chatbox functionality
        chatboxSend.addEventListener('click', () => {
            const userMessage = chatboxInput.value.trim();
            if (userMessage) {
                appendMessage(userMessage, 'user');
                chatboxInput.value = '';
                simulateGeminiResponse(userMessage);
             }
       });
       chatboxInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
               chatboxSend.click();
           }
       });
          resetChatbox.addEventListener('click', (e) =>{
             e.stopPropagation();
               chatboxBody.innerHTML = `
                <div class="chatbox-message bot">
                     Hello! How can I assist you today?
               </div>
             `
         });

         function appendMessage(message, sender) {
             const messageElement = document.createElement('div');
           messageElement.classList.add('chatbox-message', sender);
           messageElement.innerHTML = `
               ${message}
             ${sender === 'bot' ? `<button class="copy-button" onclick="copyToClipboard(this)">
                  <i class="fas fa-copy"></i></button>`
                 : `<button class="edit-button" onclick="editMessage(this)">
                    <i class="fas fa-edit"></i></button>`
                }
            `;
          chatboxBody.appendChild(messageElement);
            chatboxBody.scrollTop = chatboxBody.scrollHeight;
         }
        function simulateGeminiResponse(userMessage) {
            appendMessage('...', 'bot');
            const loadingDots = document.createElement('div');
            loadingDots.classList.add('loading');
            loadingDots.innerHTML = `
              <div class="loading-dot"></div>
              <div class="loading-dot"></div>
             <div class="loading-dot"></div>
            `;
            chatboxBody.appendChild(loadingDots);
             chatboxBody.scrollTop = chatboxBody.scrollHeight;
             // Simulate Gemini API call
           fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=" + apiKey, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                    contents: [{
                            parts: [{
                           text: `You are Cody an intelligent AI assistant specializing in keyword research and optimization. Your role is to help users discover high-impact, relevant, and targeted keywords tailored to their specific goals, whether for SEO, marketing campaigns, or content creation. You analyze trends, search volumes, competition, and user intent to provide actionable keyword suggestions that drive visibility and engagement. With your insights, users can create optimized strategies to maximize reach, attract the right audience, and achieve measurable results efficiently. User: ${userMessage}`
                             }]
                   }]

                    })

              })
               .then(response => response.json())
             .then(data => {
                 chatboxBody.removeChild(loadingDots);
                console.log(data);
                  if(data.candidates && data.candidates[0].content.parts && data.candidates[0].content.parts[0].text){
                     const geminiResponse = data.candidates[0].content.parts[0].text;
                     appendMessage(geminiResponse, 'bot');
                 }
                 else{
                      appendMessage('Sorry, I encountered an error processing your request. Please try again.', 'bot')
                   }
             })
                .catch(error => {
                   chatboxBody.removeChild(loadingDots);
                  console.error("Error fetching from Gemini:", error);
                   appendMessage('Sorry, I encountered an error processing your request. Please try again.', 'bot')
              });
        }
        function copyToClipboard(element) {
          const messageText = element.parentElement.childNodes[0].nodeValue.trim();
            navigator.clipboard.writeText(messageText)
               .then(() => {
                  showNotification('Copied!');

              })
                .catch(err => {
                  console.error('Failed to copy text: ', err);
                    showNotification('Failed to copy!');
              });
          }
          function showNotification(message) {
             copyNotification.textContent = message;
            copyNotification.classList.add('show');
            setTimeout(() => {
                copyNotification.classList.remove('show');
            }, 2000);
         }
         function editMessage(element){
             const messageText = element.parentElement.childNodes[0].nodeValue.trim();
            chatboxInput.value = messageText
             chatboxInput.focus();
             showNotification('Ready to Edit!')
           }
    </script>
</body>

</html>
